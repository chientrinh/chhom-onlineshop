<?php
namespace backend\components\webdb;

use Yii;

/**
 * $URL: https://tarax.toyouke.com/svn/MALL/backend/components/webdb/Liquor.php $
 * $Id: Liquor.php 3178 2016-12-28 02:21:58Z mori $
 */

class Liquor extends \yii\base\Model
{

    /**
     * @return Array of product_code [ＨＪ代理店Ａへの　-40%　対象商品] see ticket:55
     */
    public function getProductcodes()
    {
        $db = Yii::$app->webdb18;

        $sql = "SELECT syo_mas_num FROM tblsyo_mas WHERE
                syo_mas_num LIKE 'KA%%' OR
                syo_mas_num LIKE 'KB%%' OR
                syo_mas_num LIKE 'KC%%' OR
                syo_mas_num LIKE 'KD%%' OR
                syo_mas_num LIKE 'KE%%' OR
                syo_mas_num LIKE 'KF%%' OR
                syo_mas_num LIKE 'KH%%' OR
                syo_mas_num LIKE 'KI%%' OR
                syo_mas_num LIKE 'KJ%%' OR
                syo_mas_num LIKE 'ZB%%'
                OR
               (syo_mas_num LIKE 'KM%%' AND (prod_name LIKE 'オリジナルMT%%' OR prod_name LIKE 'オリジナルアルポ%%' OR prod_name LIKE 'オリジナルサポート%%'))
               ";

        if('euc-jp' == $db->charset)
            $sql = mb_convert_encoding($sql, 'CP51932', 'UTF-8');
            // convert from utf8 to EUC-WIN-JP

        return $db->createCommand($sql)->queryColumn();
    }

    public function getMatrixByVolume()
    {
        return [
  5 => ['KM118A'], // 5ml
  8 => ['KM110A','KM109A'], // 8ml
 10 => [
    'KI041A','KI039A','KI003A','KF008D','KF001D','KD012A','KD011A','KD010A','KD009A','KD008A','KD007A','KD006A',
    'KD005A','KD004A','KD003A','KD002A','KD001A','KC057A','KC056A','KC055A','KC054A','KC053A','KC052A','KC051A',
    'KC050A','KC049A','KC048A','KC047A','KC046A','KC045A','KC044A','KC043A','KC042A','KC041A','KC040A','KC039A',
    'KC038A','KC037A','KC036A','KC035A','KC034A','KC033A','KC032A','KC031A','KC030A','KC029A','KC028A','KC027A',
    'KC026A','KC025A','KC024A','KC023A','KC022A','KC021A','KC020A','KC019A','KC018A','KC017A','KC016A','KC015A',
    'KC014A','KC013A','KC012A','KC011A','KC010A','KC009A','KC008A','KC007A','KC006A','KC005A','KC004A','KC003A',
    'KC002A','KC001A','KB044A','KB043A','KB042A','KB041A','KB040A','KB039A','KB038A','KB037A','KB036A','KB035A',
    'KB034A','KB033A','KB032A','KB031A','KB030A','KB029A','KB028A','KB027A','KB026A','KB025A','KB024A','KB023A',
    'KB022A','KB021A','KB020A','KB019A','KB018A','KB017A','KB016A','KB015A','KB014A','KB013A','KB012A','KB011A',
    'KB010A','KB009A','KB008A','KB007A','KB006A','KB005A','KB004A','KB003A','KB002A','KB001A','KA022A','KA021A',
    'KA020A','KA019A','KA018A','KA017A','KA016A','KA015A','KA014A','KA013A','KA012A','KA011A','KA010A','KA009A',
    'KA008A','KA007A','KA006A','KA005A','KA004A','KA003A','KA002A','KA001A','KI042A',
    'KH001A','KH002A','KH003A','KH004A','KH005A','KH006A','KH007A','KH008A','KH009A','KH010A','KH011A','KH012A',
    'KH013A','KH014A','KH015A','KH016A','KH017A','KH018A','KH019A','KH020A','KH021A','KH999A',
 ], // 10 ml
 15 => ['KM061A'], // 15ml
 20 => [
    'KM158A','KM154A','KM153A','KM152A','KM151A','KM150A','KM149A','KM148A','KM147A','KM146A','KM145A','KM144A',
    'KM143A','KM142A','KM141A','KM140A','KM139A','KM138A','KM137A','KM136A','KM135A','KM134A','KM133A','KM132A',
    'KM131A','KM130A','KM129A','KM128A','KM127A','KM125A','KM124A','KM123A','KM122A','KM121A','KM120A','KM119A',
    'KM117A','KM116A','KM115A','KM114A','KM113A','KM112A','KM111A','KM108A','KM107A','KM106A','KM105A','KM104A',
    'KM103A','KM102A','KM101A','KM100A','KM099A','KM098A','KM097A','KM096A','KM095A','KM094A','KM093A','KM092A',
    'KM091A','KM090A','KM089A','KM088A','KM087A','KM086A','KM085A','KM084A','KM083A','KM082A','KM081A','KM080A',
    'KM079A','KM078A','KM077A','KM076A','KM075A','KM074A','KM073A','KM072A','KM071A','KM070A','KM069A','KM068A',
    'KM067A','KM066A','KM065A','KM060A','KM059A','KM058A','KM057A','KM056A','KM055A','KM054A','KM052A','KM051A',
    'KM049A','KM048A','KM047A','KM046A','KM045A','KM044A','KM043A','KM042A','KM041A','KM040A','KM039A','KM038A',
    'KM037A','KM036A','KM035A','KM034A','KM033A','KM032A','KM031A','KM030A','KM029A','KM028A','KM027A','KM026A',
    'KM025A','KM024A','KM023A','KM022A','KM021A','KM020A','KM019A','KM017A','KM015A','KM014A','KM013A','KM011A',
    'KM010A','KM009A','KM007A','KM006A','KM005A','KM004A','KM001A','KJ001A','KI043A','KI038A','KI037A','KI035A',
    'KI034A','KI033A','KI032A','KI031A','KI030A','KI029A','KI028A','KI027A','KI026A','KI025A','KI024A','KI023A',
    'KI022A','KI021A','KI020A','KI019A','KI018A','KI017A','KI016A','KI015D','KI015A','KI014A','KI013A','KI012A',
    'KI011A','KI010A','KI009A','KI008A','KI007A','KI006A','KI004A','KI001A','KG902A','KG901A','KG084A','KG083A',
    'KG082A','KG081A','KG080A','KG079A','KG078A','KG077A','KG076A','KG075A','KG074A','KG073A','KG072A','KG071A',
    'KG070A','KG061' ,'KG060A','KG059A','KG058A','KG057A','KG056A','KG055A','KG054A','KG053A','KG052A','KG051A',
    'KG050A','KG049A','KG048A','KG047A','KG046A','KG045A','KG044A','KG043A','KG042A','KG041A','KG040A','KG039A',
    'KG038A','KG037A','KG036A','KG035A','KG034A','KG033A','KG032A','KG031A','KG030A','KG029A','KG028A','KG027A',
    'KG026A','KG025A','KG024A','KG023A','KG022A','KG021A','KG020A','KG019A','KG018A','KG017A','KG015A','KG014A',
    'KG013A','KG011A','KG010A','KG009A','KG008A','KG007A','KG006A','KG005A','KG004A','KG003A','KG001A','KF071C',
    'KF070C','KF069C','KF068C','KF067C','KF066C','KF065C','KF032C','KF031C','KF030C','KF029C','KF028C','KF028B',
    'KF027C','KF026C','KF025C','KF024C','KF023C','KF022C','KF021C','KF020C','KF019C','KF018C','KF017D','KF017C',
    'KF016C','KF015C','KF014C','KF013C','KF012C','KF011C','KF010C','KF009C','KF007D','KF007C','KF006D','KF006C',
    'KF004C','KF003C','KF002C','KF001C','KE083B','KE082B','KE081B','KE080B','KE079B','KE078B','KE077B','KE076B',
    'KE075B','KE074B','KE073B','KE072B','KE071B','KE070B','KE069B','KE068B','KE067B','KE066A','KE058B','KE057B',
    'KE056B','KE055B','KE054B','KE053B','KE052B','KE051B','KE050B','KE050A','KE049B','KE048B','KE047B','KE046B',
    'KE045B','KE044B','KE043B','KE042B','KE041B','KE040B','KE039B','KE038B','KE037B','KE036B','KE035B','KE034B',
    'KE033B','KE032B','KE031B','KE030B','KE029B','KE028B','KE027B','KE026B','KE025B','KE024B','KE023B','KE022B',
    'KE021B','KE020B','KE019B','KE018B','KE017B','KE016B','KE015B','KE014B','KE013B','KE012B','KE011B','KE010B',
    'KE009B','KE008B','KE007B','KE006D','KE006B','KE005B','KE004B','KE003B','KE002B','KE001B','KI003D','KI046A',
    'KJ002A','KI047A','KI045A','KI051A','KI052A','KI053A','KI054A','KI055A','KI056A','KI057A','KI060A','KM173A'], // 20ml
 50=>['KI058A'], // 50ml
100=>['KI003B','KI048A','KI059A'], // 100ml
150=>[
    'KM126A','KI040A','KI036A','KF071B','KF070B','KF069B','KF068B','KF067B','KF066B','KF065B','KF061A','KF060A',
    'KF059A','KF058A','KF057A','KF056A','KF055A','KF054A','KF053A','KF052A','KF051A','KF050A','KF049A','KF048A',
    'KF047A','KF046A','KF045A','KF042A','KF041A','KF040A','KF039A','KF038A','KF037A','KF036A','KF035A','KF034A',
    'KF033A','KF032B','KF032A','KF031B','KF031A','KF030B','KF030A','KF029B','KF029A','KF028A','KF027B','KF027A',
    'KF026B','KF026A','KF025B','KF024B','KF023B','KF022B','KF021B','KF020B','KF019B','KF018B','KF017E','KF017B',
    'KF016B','KF015B','KF014B','KF013B','KF012B','KF011B','KF010B','KF009B','KF007E','KF007B','KF006E','KF006B',
    'KF005B','KF004B','KF003B','KF002B','KF001B','KE081A','KE080A','KE079A','KE078A','KE077A','KE076A','KE058A',
    'KE057A','KE056A','KE055A','KE016A','KE015A','KE014A','KE013A','KE012A','KE011A','KE010A','KE009A','KE008A',
    'KE007A','KE006E','KE006A','KE005A','KE004A','KE003A','KE002A','KE001A','KI044A','KI049A'], // 150ml
170=>['KF064A'], // 170ml
500=>['KI005A'], // 500ml
720=>['KI002A','KF063A','KF062A','KF044A','KF043A','KF008A','KF005A','KF004A','KF003A','KF002A','KF001A'], // 720ml
        ];
    }
}
